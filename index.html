<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>À la Folie | Appartement d'exception Paris 11e</title>
    <meta name="description" content="Vivez une expérience unique dans notre appartement avec jacuzzi privatif au cœur de Paris. 60m² de luxe, home cinéma, WC japonais.">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle fill='%23ffd93d' cx='50' cy='50' r='12'/></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --black: #0a0a0a;
            --dark: #111;
            --darker: #1a1a1a;
            --gold: #d4af37;
            --gold-light: #f4e4bc;
            --white: #fff;
            --gray: #999;
            --gray-dark: #444;
            --airbnb: #FF5A5F;
        }

        html {
            scroll-behavior: smooth;
            scroll-snap-type: y proximity;
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: var(--black);
            color: var(--white);
            font-weight: 300;
            line-height: 1.6;
            overflow-x: hidden;
        }

        ::selection {
            background: var(--gold);
            color: var(--black);
        }

        h1, h2, h3 {
            font-family: 'Playfair Display', Georgia, serif;
            font-weight: 400;
            letter-spacing: -0.02em;
        }

        /* ===== CUSTOM CURSOR ===== */
        .cursor {
            width: 20px;
            height: 20px;
            border: 1px solid var(--gold);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            transition: transform 0.15s ease, opacity 0.15s ease;
            mix-blend-mode: difference;
        }
        .cursor.hover { transform: scale(2.5); background: rgba(212,175,55,0.1); }
        @media (max-width: 768px) { .cursor { display: none; } }

        /* ===== SCREEN 1 — SPLASH / IDENTITY ===== */
        .splash {
            height: 100vh;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            scroll-snap-align: start;
        }

        .splash-bg {
            position: absolute;
            inset: 0;
            z-index: 0;
        }
        .splash-bg img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: scale(1.1);
            transition: transform 10s ease-out;
        }
        .splash.loaded .splash-bg img {
            transform: scale(1);
        }
        .splash-overlay {
            position: absolute;
            inset: 0;
            background: radial-gradient(ellipse at center, rgba(10,10,10,0.55) 0%, rgba(10,10,10,0.85) 100%);
        }

        .splash-content {
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 1.5rem;
        }

        /* Marguerite logo — big and animated */
        .splash-flower {
            width: 130px;
            height: 130px;
            opacity: 0;
            transform: scale(0.5) rotate(-180deg);
            animation: flowerIn 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s forwards;
        }
        @keyframes flowerIn {
            to { opacity: 1; transform: scale(1) rotate(0deg); }
        }

        .splash-flower .flower-spin {
            animation: spin 25s linear infinite;
            transform-origin: center;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .splash-title {
            font-size: clamp(4rem, 10vw, 8rem);
            line-height: 0.95;
            font-style: italic;
            font-weight: 700;
            letter-spacing: -0.03em;
            opacity: 0;
            transform: translateY(40px);
            animation: fadeUp 1s ease 0.6s forwards;
        }

        .splash-tagline {
            font-size: clamp(0.85rem, 1.5vw, 1.1rem);
            letter-spacing: 0.25em;
            text-transform: uppercase;
            color: var(--gray);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.8s ease 1s forwards;
        }
        .splash-tagline span {
            color: var(--gold);
        }

        /* Airbnb badge */
        .airbnb-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 50px;
            padding: 0.6rem 1.5rem 0.6rem 0.6rem;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.8s ease 1.2s forwards;
            text-decoration: none;
            color: var(--white);
            transition: all 0.3s;
        }
        .airbnb-badge:hover {
            background: rgba(255,255,255,0.12);
            border-color: rgba(255,90,95,0.4);
            transform: translateY(-2px);
        }
        .airbnb-badge-logo {
            width: 36px;
            height: 36px;
            background: var(--airbnb);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        .airbnb-badge-logo svg {
            width: 20px;
            height: 20px;
            fill: white;
        }
        .airbnb-badge-text {
            font-size: 0.85rem;
            font-weight: 400;
            letter-spacing: 0.02em;
        }
        .airbnb-badge-text strong {
            color: var(--gold);
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 2.5rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
            opacity: 0;
            animation: fadeUp 0.6s ease 1.6s forwards;
        }
        .scroll-indicator span {
            font-size: 0.6rem;
            letter-spacing: 0.3em;
            text-transform: uppercase;
            color: var(--gray);
        }
        .scroll-line {
            width: 1px;
            height: 40px;
            background: linear-gradient(to bottom, var(--gold), transparent);
            animation: pulse 2s ease-in-out infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scaleY(1); }
            50% { opacity: 0.4; transform: scaleY(0.6); }
        }

        @keyframes fadeUp {
            to { opacity: 1; transform: translateY(0); }
        }

        /* ===== SCREEN 2 — SPLIT ASYMMETRIC "L'EXPERIENCE" ===== */
        .experience {
            min-height: 100vh;
            display: grid;
            grid-template-columns: 1.2fr 1fr;
            scroll-snap-align: start;
            position: relative;
        }

        .exp-image-side {
            position: relative;
            overflow: hidden;
        }
        .exp-image-side img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.1s linear;
        }
        .exp-image-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to right, transparent 60%, var(--black) 100%);
        }

        .exp-text-side {
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 4rem 4rem 4rem 3rem;
            position: relative;
        }

        .exp-label {
            font-size: 0.65rem;
            letter-spacing: 0.35em;
            text-transform: uppercase;
            color: var(--gold);
            margin-bottom: 1.5rem;
        }

        .exp-title {
            font-size: clamp(2.5rem, 4vw, 3.5rem);
            line-height: 1.15;
            margin-bottom: 2rem;
        }
        .exp-title em {
            font-style: italic;
            color: var(--gold);
        }

        .exp-description {
            font-size: 1rem;
            color: var(--gray);
            line-height: 1.8;
            margin-bottom: 3rem;
            max-width: 440px;
        }

        /* Floating pills */
        .pills {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }
        .pill {
            padding: 0.5rem 1.25rem;
            border: 1px solid var(--gold);
            border-radius: 50px;
            font-size: 0.8rem;
            letter-spacing: 0.08em;
            color: var(--gold);
            background: rgba(212,175,55,0.06);
            transition: all 0.3s;
            cursor: default;
        }
        .pill:hover {
            background: var(--gold);
            color: var(--black);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(212,175,55,0.25);
        }

        /* Léa host card */
        .host-card {
            margin-top: 3rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.5rem;
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 16px;
            max-width: 320px;
        }
        .host-card img {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            object-fit: cover;
        }
        .host-card-info {
            font-size: 0.85rem;
        }
        .host-card-info strong {
            display: block;
            font-weight: 500;
        }
        .host-card-info span {
            color: var(--gray);
            font-size: 0.75rem;
        }

        /* ===== SCREEN 3 — GALLERY SNAP SCROLL ===== */
        .gallery-section {
            min-height: 100vh;
            scroll-snap-align: start;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 4rem 0;
            position: relative;
        }

        .gallery-header {
            padding: 0 4rem;
            margin-bottom: 2.5rem;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }
        .gallery-title {
            font-size: clamp(2rem, 3.5vw, 3rem);
            font-style: italic;
        }

        .gallery-nav {
            display: flex;
            gap: 0.5rem;
        }
        .gallery-nav button {
            width: 50px;
            height: 50px;
            border: 1px solid var(--gray-dark);
            background: transparent;
            color: var(--white);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 50%;
        }
        .gallery-nav button:hover {
            border-color: var(--gold);
            color: var(--gold);
            background: rgba(212,175,55,0.08);
        }

        .gallery-track {
            display: flex;
            gap: 1.5rem;
            padding: 0 4rem;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }
        .gallery-track::-webkit-scrollbar { display: none; }

        .gallery-item {
            flex: 0 0 80vw;
            max-width: 1100px;
            aspect-ratio: 16/9;
            overflow: hidden;
            border-radius: 12px;
            position: relative;
            scroll-snap-align: center;
        }
        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s cubic-bezier(0.25, 0, 0.25, 1);
        }
        .gallery-item:hover img {
            transform: scale(1.05);
        }
        .gallery-item-name {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 3rem 2.5rem 2rem;
            background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, transparent 100%);
            font-family: 'Playfair Display', serif;
            font-size: clamp(2rem, 4vw, 3.5rem);
            font-style: italic;
            color: rgba(255,255,255,0.5);
            pointer-events: none;
        }

        /* ===== SCREEN 4 — BOOKING + REVIEWS ===== */
        .booking-section {
            min-height: 100vh;
            scroll-snap-align: start;
            position: relative;
            overflow: hidden;
        }

        /* Blurred background image */
        .booking-bg {
            position: absolute;
            inset: 0;
            z-index: 0;
        }
        .booking-bg img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: blur(30px) brightness(0.3);
            transform: scale(1.1);
        }

        .booking-wrapper {
            position: relative;
            z-index: 2;
            max-width: 1300px;
            margin: 0 auto;
            padding: 5rem 3rem;
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 3rem;
            align-items: start;
        }

        .booking-left {
            display: flex;
            flex-direction: column;
            gap: 3rem;
        }

        .booking-title {
            font-size: clamp(2rem, 4vw, 3rem);
            font-style: italic;
        }
        .booking-subtitle {
            color: var(--gray);
            margin-top: 0.5rem;
            font-size: 0.95rem;
        }

        /* Calendar glass card */
        .cal-card {
            background: rgba(255,255,255,0.04);
            backdrop-filter: blur(40px);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 20px;
            padding: 2rem;
        }

        .cal-nav {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .cal-nav button {
            width: 36px;
            height: 36px;
            border: 1px solid rgba(255,255,255,0.15);
            background: transparent;
            color: var(--white);
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
            border-radius: 50%;
        }
        .cal-nav button:hover:not(:disabled) {
            border-color: var(--gold);
            color: var(--gold);
        }
        .cal-nav button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .calendars {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        .cal {
            padding: 0.5rem;
        }
        .cal-month {
            font-family: 'Playfair Display', serif;
            font-size: 1rem;
            text-align: center;
            margin-bottom: 1rem;
            color: var(--white);
        }
        .cal-week {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            margin-bottom: 0.5rem;
        }
        .cal-week span {
            font-size: 0.6rem;
            color: var(--gray-dark);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .cal-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 2px;
        }
        .day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.82rem;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--gray);
        }
        .day:hover:not(.off):not(.blocked) {
            background: var(--gold);
            color: var(--black);
        }
        .day.off { color: var(--gray-dark); cursor: default; }
        .day.blocked {
            color: var(--gray-dark);
            text-decoration: line-through;
            cursor: not-allowed;
        }
        .day.today {
            border: 1px solid var(--gold);
            color: var(--gold);
        }
        .day.start, .day.end {
            background: var(--gold);
            color: var(--black);
            font-weight: 500;
        }
        .day.range {
            background: rgba(212,175,55,0.2);
            color: var(--white);
            border-radius: 0;
        }

        /* Price panel — glass */
        .price-panel {
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(40px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 2.5rem 2rem;
            position: sticky;
            top: 2rem;
        }

        .price-label {
            font-size: 0.65rem;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: var(--gold);
            margin-bottom: 0.5rem;
        }
        .price-amount {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            margin-bottom: 0.25rem;
            transition: all 0.4s;
        }
        .price-amount span {
            font-size: 1.3rem;
            color: var(--gray);
        }
        .price-night {
            color: var(--gray);
            font-size: 0.85rem;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.08);
        }
        .price-dates {
            margin-bottom: 1.5rem;
        }
        .price-date-row {
            display: flex;
            justify-content: space-between;
            padding: 0.6rem 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            font-size: 0.85rem;
        }
        .price-date-row span:first-child {
            color: var(--gray);
        }

        /* Book button with Airbnb logo */
        .btn-book {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.6rem;
            width: 100%;
            padding: 1rem;
            background: var(--airbnb);
            color: white;
            text-align: center;
            text-decoration: none;
            font-size: 0.78rem;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            font-weight: 500;
            border-radius: 12px;
            transition: all 0.3s;
            margin-bottom: 0.75rem;
        }
        .btn-book:hover {
            background: #e8494e;
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(255,90,95,0.35);
        }
        .btn-book svg {
            width: 18px;
            height: 18px;
            fill: white;
        }

        .btn-whatsapp {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            width: 100%;
            padding: 1rem;
            background: transparent;
            border: 1px solid rgba(255,255,255,0.12);
            color: var(--white);
            text-decoration: none;
            font-size: 0.78rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            border-radius: 12px;
            transition: all 0.3s;
        }
        .btn-whatsapp:hover {
            border-color: #25D366;
            color: #25D366;
            background: rgba(37,211,102,0.06);
        }
        .btn-whatsapp svg {
            width: 16px;
            height: 16px;
            fill: currentColor;
        }

        /* Reviews horizontal mini-cards */
        .reviews-strip {
            padding: 0 3rem;
        }
        .reviews-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .reviews-title {
            font-size: 1.5rem;
            font-style: italic;
        }
        .reviews-score {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            color: var(--gold);
            font-size: 0.9rem;
        }

        .reviews-scroll {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            padding-bottom: 1rem;
            scrollbar-width: none;
        }
        .reviews-scroll::-webkit-scrollbar { display: none; }

        .review-mini {
            flex: 0 0 300px;
            background: rgba(255,255,255,0.04);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 16px;
            padding: 1.5rem;
            transition: all 0.3s;
        }
        .review-mini:hover {
            border-color: rgba(212,175,55,0.3);
            transform: translateY(-3px);
        }
        .review-mini-stars {
            color: var(--gold);
            font-size: 0.7rem;
            letter-spacing: 2px;
            margin-bottom: 0.75rem;
        }
        .review-mini-text {
            font-size: 0.85rem;
            color: var(--gray);
            line-height: 1.6;
            margin-bottom: 1rem;
            font-style: italic;
        }
        .review-mini-author {
            display: flex;
            align-items: center;
            gap: 0.6rem;
        }
        .review-mini-avatar {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--gold), #b8963a);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Playfair Display', serif;
            font-size: 0.85rem;
            color: var(--black);
        }
        .review-mini-name {
            font-size: 0.8rem;
        }
        .review-mini-date {
            font-size: 0.65rem;
            color: var(--gray-dark);
        }

        /* ===== FOOTER ===== */
        .footer {
            padding: 3rem;
            border-top: 1px solid rgba(255,255,255,0.06);
        }
        .footer-inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1300px;
            margin: 0 auto;
        }
        .footer-brand {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .footer-flower {
            width: 28px;
            height: 28px;
        }
        .footer-brand-text {
            font-family: 'Playfair Display', serif;
            font-size: 1.1rem;
            font-style: italic;
        }
        .footer-links {
            display: flex;
            align-items: center;
            gap: 2rem;
        }
        .footer-link {
            color: var(--gray);
            text-decoration: none;
            font-size: 0.8rem;
            transition: color 0.3s;
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }
        .footer-link:hover { color: var(--gold); }
        .footer-link svg { width: 16px; height: 16px; }
        .footer-airbnb-icon {
            width: 24px;
            height: 24px;
            background: var(--airbnb);
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        .footer-airbnb-icon svg {
            width: 14px;
            height: 14px;
            fill: white;
        }
        .footer-copy {
            color: var(--gray-dark);
            font-size: 0.7rem;
        }

        /* ===== WHATSAPP FLOAT ===== */
        .wa-float {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 56px;
            height: 56px;
            background: #25D366;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 90;
            transition: all 0.3s;
            box-shadow: 0 4px 20px rgba(37,211,102,0.4);
            text-decoration: none;
        }
        .wa-float:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(37,211,102,0.5);
        }
        .wa-float svg {
            width: 28px;
            height: 28px;
            fill: white;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 1024px) {
            .experience {
                grid-template-columns: 1fr;
                min-height: auto;
            }
            .exp-image-side {
                height: 50vh;
            }
            .exp-image-overlay {
                background: linear-gradient(to bottom, transparent 50%, var(--black) 100%);
            }
            .exp-text-side {
                padding: 3rem 2rem;
            }
            .booking-wrapper {
                grid-template-columns: 1fr;
                padding: 4rem 2rem;
            }
            .price-panel { position: static; }
            .gallery-item { flex: 0 0 85vw; }
        }

        @media (max-width: 768px) {
            html { scroll-snap-type: none; }

            .splash-flower { width: 90px; height: 90px; }
            .splash-title { font-size: clamp(3rem, 12vw, 5rem); }

            .experience { min-height: auto; }
            .exp-image-side { height: 40vh; }
            .exp-text-side { padding: 2rem 1.5rem; }
            .pills { gap: 0.5rem; }
            .pill { padding: 0.4rem 1rem; font-size: 0.7rem; }
            .host-card { max-width: 100%; }

            .gallery-section {
                min-height: auto;
                padding: 3rem 0;
            }
            .gallery-header { padding: 0 1.5rem; }
            .gallery-track { padding: 0 1.5rem; gap: 1rem; }
            .gallery-item {
                flex: 0 0 85vw;
                aspect-ratio: 4/5;
            }
            .gallery-item-name { font-size: 1.5rem; }

            .booking-wrapper { padding: 3rem 1.5rem; }
            .calendars { grid-template-columns: 1fr; }
            .reviews-strip { padding: 0 1.5rem; }
            .review-mini { flex: 0 0 260px; }

            .footer { padding: 2rem 1.5rem; }
            .footer-inner {
                flex-direction: column;
                gap: 1.5rem;
                text-align: center;
            }
            .footer-links { flex-wrap: wrap; justify-content: center; gap: 1.5rem; }
        }
    </style>
</head>
<body>
    <!-- Custom Cursor -->
    <div class="cursor" id="cursor"></div>

    <!-- ========== SCREEN 1 — SPLASH ========== -->
    <section class="splash" id="splash">
        <div class="splash-bg">
            <img src="01.jpg" alt="À la Folie - Appartement Paris">
            <div class="splash-overlay"></div>
        </div>
        <div class="splash-content">
            <!-- Big animated marguerite -->
            <svg class="splash-flower" viewBox="-25 -25 50 50">
                <defs>
                    <linearGradient id="petal-grad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#ff4d6a">
                            <animate attributeName="stop-color" values="#ff4d6a;#ff8c42;#ffd93d;#6bcb77;#4d96ff;#9b5de5;#ff4d6a" dur="8s" repeatCount="indefinite"/>
                        </stop>
                        <stop offset="100%" style="stop-color:#ff8c42">
                            <animate attributeName="stop-color" values="#ff8c42;#ffd93d;#6bcb77;#4d96ff;#9b5de5;#ff4d6a;#ff8c42" dur="8s" repeatCount="indefinite"/>
                        </stop>
                    </linearGradient>
                </defs>
                <g class="flower-spin">
                    <ellipse fill="url(#petal-grad)" cx="0" cy="-12" rx="4.5" ry="10"/>
                    <ellipse fill="url(#petal-grad)" cx="0" cy="-12" rx="4.5" ry="10" transform="rotate(45)"/>
                    <ellipse fill="url(#petal-grad)" cx="0" cy="-12" rx="4.5" ry="10" transform="rotate(90)"/>
                    <ellipse fill="url(#petal-grad)" cx="0" cy="-12" rx="4.5" ry="10" transform="rotate(135)"/>
                    <ellipse fill="url(#petal-grad)" cx="0" cy="-12" rx="4.5" ry="10" transform="rotate(180)"/>
                    <ellipse fill="url(#petal-grad)" cx="0" cy="-12" rx="4.5" ry="10" transform="rotate(225)"/>
                    <ellipse fill="url(#petal-grad)" cx="0" cy="-12" rx="4.5" ry="10" transform="rotate(270)"/>
                    <ellipse fill="url(#petal-grad)" cx="0" cy="-12" rx="4.5" ry="10" transform="rotate(315)"/>
                </g>
                <circle fill="#ffd93d" cx="0" cy="0" r="6"/>
            </svg>

            <h1 class="splash-title">À la Folie</h1>
            <p class="splash-tagline">Jacuzzi privatif <span>·</span> Home cinéma <span>·</span> Paris 11e</p>

            <!-- Airbnb badge -->
            <a href="https://airbnb.fr/h/a-la-folie" target="_blank" class="airbnb-badge">
                <span class="airbnb-badge-logo">
                    <!-- Airbnb Bélo icon -->
                    <svg viewBox="0 0 24 24"><path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.6 0 12 0zm5.7 17.3c-.3.6-.8 1-1.4 1.2-.2.1-.5.1-.7.1-.3 0-.7-.1-1.1-.3-.5-.3-1-.7-1.6-1.3-.7-.7-1.4-1.6-2.1-2.7-.1-.2-.2-.3-.3-.5l-.5.8c-.5.9-1 1.6-1.5 2.1-.4.4-.8.7-1.2.9-.3.1-.6.2-.9.2-.3 0-.5 0-.8-.1-.6-.2-1.1-.7-1.4-1.2-.3-.5-.4-1.1-.4-1.8 0-1 .4-2.2 1.1-3.5.3-.5.6-1 .9-1.5.4-.5.7-1 1.1-1.4.8-.9 1.6-1.4 2.4-1.4.5 0 .9.2 1.3.5l.1.1.1-.1c.4-.3.8-.5 1.3-.5.8 0 1.6.5 2.4 1.4.4.4.8.9 1.1 1.4.3.5.6 1 .9 1.5.7 1.3 1.1 2.5 1.1 3.5 0 .7-.1 1.3-.4 1.8zM12 10.6c-.5.8-1 1.5-1.3 2.2-.4.7-.6 1.4-.6 1.9 0 .3 0 .5.1.7.1.2.2.3.4.4.1 0 .2.1.3.1.2 0 .4-.1.7-.3.3-.2.6-.6 1-1.1l.5-.8c-.4-.7-.7-1.4-1.1-2.1l-.2-.3.2-.3c.3-.6.7-1.2 1.1-1.8-.2-.2-.5-.3-.7-.3-.3 0-.7.3-1.2.9-.2.2-.4.5-.6.8l.4.7zm2.5 3.8c.1.2.2.3.4.4.1 0 .2.1.3.1.2 0 .4-.1.7-.3.3-.2.6-.6 1-1.1.3-.5.6-1 .8-1.5.3-.6.5-1.2.5-1.7 0-.3 0-.6-.1-.8-.1-.2-.2-.4-.4-.5-.1-.1-.3-.1-.4-.1-.3 0-.6.2-1 .5-.4.3-.8.8-1.2 1.3-.4.5-.7 1.1-1.1 1.7l-.5.8c.4.5.7 1 1 1.2z"/></svg>
                </span>
                <span class="airbnb-badge-text">Superhost <strong>★ 5.0</strong></span>
            </a>
        </div>

        <div class="scroll-indicator">
            <span>Découvrir</span>
            <div class="scroll-line"></div>
        </div>
    </section>

    <!-- ========== SCREEN 2 — EXPERIENCE (SPLIT) ========== -->
    <section class="experience" id="experience">
        <div class="exp-image-side">
            <img src="02.jpg" alt="Jacuzzi privatif" id="parallaxImg">
            <div class="exp-image-overlay"></div>
        </div>
        <div class="exp-text-side">
            <span class="exp-label">L'expérience</span>
            <h2 class="exp-title">Un cocon pensé<br>pour <em>l'évasion</em></h2>
            <p class="exp-description">Chaque détail a été pensé pour créer une atmosphère unique. Du jacuzzi privatif au home cinéma, en passant par la literie haut de gamme, tout est là pour faire de votre séjour un moment inoubliable.</p>
            <div class="pills">
                <span class="pill">Jacuzzi privatif</span>
                <span class="pill">Home cinéma 4K</span>
                <span class="pill">60m²</span>
                <span class="pill">King-size</span>
                <span class="pill">WC japonais</span>
                <span class="pill">WiFi fibre</span>
                <span class="pill">Netflix</span>
                <span class="pill">Nespresso</span>
                <span class="pill">Climatisation</span>
            </div>
            <div class="host-card">
                <img src="lea.png" alt="Léa">
                <div class="host-card-info">
                    <strong>Léa, votre hôte</strong>
                    <span>Superhost · Répond en -1h</span>
                </div>
            </div>
        </div>
    </section>

    <!-- ========== SCREEN 3 — GALLERY SNAP ========== -->
    <section class="gallery-section" id="gallery">
        <div class="gallery-header">
            <h2 class="gallery-title">Visite guidée</h2>
            <div class="gallery-nav">
                <button onclick="galleryPrev()" aria-label="Photo précédente">←</button>
                <button onclick="galleryNext()" aria-label="Photo suivante">→</button>
            </div>
        </div>
        <div class="gallery-track" id="galleryTrack">
            <div class="gallery-item">
                <img src="01.jpg" alt="Salon">
                <div class="gallery-item-name">Le Salon</div>
            </div>
            <div class="gallery-item">
                <img src="02.jpg" alt="Jacuzzi">
                <div class="gallery-item-name">Le Jacuzzi</div>
            </div>
            <div class="gallery-item">
                <img src="03.jpg" alt="Chambre">
                <div class="gallery-item-name">La Chambre</div>
            </div>
            <div class="gallery-item">
                <img src="04.jpg" alt="Salle de bain">
                <div class="gallery-item-name">Salle de Bain</div>
            </div>
            <div class="gallery-item">
                <img src="07.jpg" alt="Home Cinéma">
                <div class="gallery-item-name">Home Cinéma</div>
            </div>
            <div class="gallery-item">
                <img src="08.jpg" alt="Cuisine">
                <div class="gallery-item-name">La Cuisine</div>
            </div>
            <div class="gallery-item">
                <img src="09.jpg" alt="Détails">
                <div class="gallery-item-name">Les Détails</div>
            </div>
            <div class="gallery-item">
                <img src="11.jpg" alt="Ambiance">
                <div class="gallery-item-name">L'Ambiance</div>
            </div>
        </div>
    </section>

    <!-- ========== SCREEN 4 — BOOKING + REVIEWS ========== -->
    <section class="booking-section" id="booking">
        <div class="booking-bg">
            <img src="03.jpg" alt="">
        </div>
        <div class="booking-wrapper">
            <div class="booking-left">
                <div>
                    <h2 class="booking-title">Réservez votre séjour</h2>
                    <p class="booking-subtitle">Sélectionnez vos dates pour voir les disponibilités</p>
                </div>
                <div class="cal-card">
                    <div class="cal-nav">
                        <button id="prevBtn" onclick="prevMonth()" aria-label="Mois précédent">←</button>
                        <button id="nextBtn" onclick="nextMonth()" aria-label="Mois suivant">→</button>
                    </div>
                    <div class="calendars">
                        <div class="cal" id="cal1"></div>
                        <div class="cal" id="cal2"></div>
                    </div>
                </div>

                <!-- Reviews strip -->
                <div class="reviews-strip">
                    <div class="reviews-header">
                        <h3 class="reviews-title">Avis</h3>
                        <div class="reviews-score">★★★★★ <span>5.0</span></div>
                    </div>
                    <div class="reviews-scroll">
                        <div class="review-mini">
                            <div class="review-mini-stars">★★★★★</div>
                            <p class="review-mini-text">"Séjour exceptionnel ! L'appartement est magnifique, très calme. Le jacuzzi est un vrai plus."</p>
                            <div class="review-mini-author">
                                <div class="review-mini-avatar">O</div>
                                <div>
                                    <div class="review-mini-name">Olivier</div>
                                    <div class="review-mini-date">Janvier 2026</div>
                                </div>
                            </div>
                        </div>
                        <div class="review-mini">
                            <div class="review-mini-stars">★★★★★</div>
                            <p class="review-mini-text">"Tout était parfait. Literie incroyable, propreté impeccable. Léa est une hôte formidable."</p>
                            <div class="review-mini-author">
                                <div class="review-mini-avatar">N</div>
                                <div>
                                    <div class="review-mini-name">Noah</div>
                                    <div class="review-mini-date">Décembre 2025</div>
                                </div>
                            </div>
                        </div>
                        <div class="review-mini">
                            <div class="review-mini-stars">★★★★★</div>
                            <p class="review-mini-text">"Une vraie parenthèse de luxe. Le home cinéma et le jacuzzi rendent ce lieu unique."</p>
                            <div class="review-mini-author">
                                <div class="review-mini-avatar">E</div>
                                <div>
                                    <div class="review-mini-name">Emily</div>
                                    <div class="review-mini-date">Novembre 2025</div>
                                </div>
                            </div>
                        </div>
                        <div class="review-mini">
                            <div class="review-mini-stars">★★★★★</div>
                            <p class="review-mini-text">"On s'est sentis comme chez nous. Merci Léa pour l'accueil et les petites attentions !"</p>
                            <div class="review-mini-author">
                                <div class="review-mini-avatar">S</div>
                                <div>
                                    <div class="review-mini-name">Sophie</div>
                                    <div class="review-mini-date">Octobre 2025</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Price Panel -->
            <div class="price-panel">
                <div id="priceContent">
                    <span class="price-label">À partir de</span>
                    <div class="price-amount">139€ <span>/ nuit</span></div>
                    <p class="price-night">Sélectionnez vos dates</p>
                </div>
                <a href="https://airbnb.fr/h/a-la-folie" target="_blank" class="btn-book" id="bookBtn">
                    <svg viewBox="0 0 24 24"><path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.6 0 12 0zm5.7 17.3c-.3.6-.8 1-1.4 1.2-.2.1-.5.1-.7.1-.3 0-.7-.1-1.1-.3-.5-.3-1-.7-1.6-1.3-.7-.7-1.4-1.6-2.1-2.7-.1-.2-.2-.3-.3-.5l-.5.8c-.5.9-1 1.6-1.5 2.1-.4.4-.8.7-1.2.9-.3.1-.6.2-.9.2-.3 0-.5 0-.8-.1-.6-.2-1.1-.7-1.4-1.2-.3-.5-.4-1.1-.4-1.8 0-1 .4-2.2 1.1-3.5.3-.5.6-1 .9-1.5.4-.5.7-1 1.1-1.4.8-.9 1.6-1.4 2.4-1.4.5 0 .9.2 1.3.5l.1.1.1-.1c.4-.3.8-.5 1.3-.5.8 0 1.6.5 2.4 1.4.4.4.8.9 1.1 1.4.3.5.6 1 .9 1.5.7 1.3 1.1 2.5 1.1 3.5 0 .7-.1 1.3-.4 1.8zM12 10.6c-.5.8-1 1.5-1.3 2.2-.4.7-.6 1.4-.6 1.9 0 .3 0 .5.1.7.1.2.2.3.4.4.1 0 .2.1.3.1.2 0 .4-.1.7-.3.3-.2.6-.6 1-1.1l.5-.8c-.4-.7-.7-1.4-1.1-2.1l-.2-.3.2-.3c.3-.6.7-1.2 1.1-1.8-.2-.2-.5-.3-.7-.3-.3 0-.7.3-1.2.9-.2.2-.4.5-.6.8l.4.7zm2.5 3.8c.1.2.2.3.4.4.1 0 .2.1.3.1.2 0 .4-.1.7-.3.3-.2.6-.6 1-1.1.3-.5.6-1 .8-1.5.3-.6.5-1.2.5-1.7 0-.3 0-.6-.1-.8-.1-.2-.2-.4-.4-.5-.1-.1-.3-.1-.4-.1-.3 0-.6.2-1 .5-.4.3-.8.8-1.2 1.3-.4.5-.7 1.1-1.1 1.7l-.5.8c.4.5.7 1 1 1.2z"/></svg>
                    Réserver sur Airbnb
                </a>
                <a href="https://wa.me/33756864414" target="_blank" class="btn-whatsapp" id="waBtn">
                    <svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                    Contacter Léa
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-inner">
            <div class="footer-brand">
                <svg class="footer-flower" viewBox="-25 -25 50 50">
                    <defs>
                        <linearGradient id="petal-grad-f" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#ff4d6a">
                                <animate attributeName="stop-color" values="#ff4d6a;#ff8c42;#ffd93d;#6bcb77;#4d96ff;#9b5de5;#ff4d6a" dur="8s" repeatCount="indefinite"/>
                            </stop>
                            <stop offset="100%" style="stop-color:#ff8c42">
                                <animate attributeName="stop-color" values="#ff8c42;#ffd93d;#6bcb77;#4d96ff;#9b5de5;#ff4d6a;#ff8c42" dur="8s" repeatCount="indefinite"/>
                            </stop>
                        </linearGradient>
                    </defs>
                    <g style="animation: spin 25s linear infinite; transform-origin: center;">
                        <ellipse fill="url(#petal-grad-f)" cx="0" cy="-12" rx="4.5" ry="10"/>
                        <ellipse fill="url(#petal-grad-f)" cx="0" cy="-12" rx="4.5" ry="10" transform="rotate(45)"/>
                        <ellipse fill="url(#petal-grad-f)" cx="0" cy="-12" rx="4.5" ry="10" transform="rotate(90)"/>
                        <ellipse fill="url(#petal-grad-f)" cx="0" cy="-12" rx="4.5" ry="10" transform="rotate(135)"/>
                        <ellipse fill="url(#petal-grad-f)" cx="0" cy="-12" rx="4.5" ry="10" transform="rotate(180)"/>
                        <ellipse fill="url(#petal-grad-f)" cx="0" cy="-12" rx="4.5" ry="10" transform="rotate(225)"/>
                        <ellipse fill="url(#petal-grad-f)" cx="0" cy="-12" rx="4.5" ry="10" transform="rotate(270)"/>
                        <ellipse fill="url(#petal-grad-f)" cx="0" cy="-12" rx="4.5" ry="10" transform="rotate(315)"/>
                    </g>
                    <circle fill="#ffd93d" cx="0" cy="0" r="6"/>
                </svg>
                <span class="footer-brand-text">À la Folie</span>
            </div>
            <div class="footer-links">
                <a href="https://airbnb.fr/h/a-la-folie" target="_blank" class="footer-link">
                    <span class="footer-airbnb-icon">
                        <svg viewBox="0 0 24 24"><path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.6 0 12 0zm5.7 17.3c-.3.6-.8 1-1.4 1.2-.2.1-.5.1-.7.1-.3 0-.7-.1-1.1-.3-.5-.3-1-.7-1.6-1.3-.7-.7-1.4-1.6-2.1-2.7-.1-.2-.2-.3-.3-.5l-.5.8c-.5.9-1 1.6-1.5 2.1-.4.4-.8.7-1.2.9-.3.1-.6.2-.9.2-.3 0-.5 0-.8-.1-.6-.2-1.1-.7-1.4-1.2-.3-.5-.4-1.1-.4-1.8 0-1 .4-2.2 1.1-3.5.3-.5.6-1 .9-1.5.4-.5.7-1 1.1-1.4.8-.9 1.6-1.4 2.4-1.4.5 0 .9.2 1.3.5l.1.1.1-.1c.4-.3.8-.5 1.3-.5.8 0 1.6.5 2.4 1.4.4.4.8.9 1.1 1.4.3.5.6 1 .9 1.5.7 1.3 1.1 2.5 1.1 3.5 0 .7-.1 1.3-.4 1.8zM12 10.6c-.5.8-1 1.5-1.3 2.2-.4.7-.6 1.4-.6 1.9 0 .3 0 .5.1.7.1.2.2.3.4.4.1 0 .2.1.3.1.2 0 .4-.1.7-.3.3-.2.6-.6 1-1.1l.5-.8c-.4-.7-.7-1.4-1.1-2.1l-.2-.3.2-.3c.3-.6.7-1.2 1.1-1.8-.2-.2-.5-.3-.7-.3-.3 0-.7.3-1.2.9-.2.2-.4.5-.6.8l.4.7zm2.5 3.8c.1.2.2.3.4.4.1 0 .2.1.3.1.2 0 .4-.1.7-.3.3-.2.6-.6 1-1.1.3-.5.6-1 .8-1.5.3-.6.5-1.2.5-1.7 0-.3 0-.6-.1-.8-.1-.2-.2-.4-.4-.5-.1-.1-.3-.1-.4-.1-.3 0-.6.2-1 .5-.4.3-.8.8-1.2 1.3-.4.5-.7 1.1-1.1 1.7l-.5.8c.4.5.7 1 1 1.2z"/></svg>
                    </span>
                    Airbnb
                </a>
                <a href="https://wa.me/33756864414" target="_blank" class="footer-link">WhatsApp</a>
                <a href="tel:+33756864414" class="footer-link">+33 7 56 86 44 14</a>
            </div>
            <span class="footer-copy">&copy; 2026 À la Folie &middot; Paris</span>
        </div>
    </footer>

    <!-- WhatsApp Float -->
    <a href="https://wa.me/33756864414" target="_blank" class="wa-float">
        <svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
    </a>

    <script>
        // ===== CUSTOM CURSOR =====
        const cursor = document.getElementById('cursor');
        document.addEventListener('mousemove', e => {
            cursor.style.left = e.clientX - 10 + 'px';
            cursor.style.top = e.clientY - 10 + 'px';
        });
        document.querySelectorAll('a, button, .pill, .gallery-item').forEach(el => {
            el.addEventListener('mouseenter', () => cursor.classList.add('hover'));
            el.addEventListener('mouseleave', () => cursor.classList.remove('hover'));
        });

        // ===== SPLASH LOADED =====
        window.addEventListener('load', () => {
            document.getElementById('splash').classList.add('loaded');
        });

        // ===== PARALLAX on experience image =====
        const parallaxImg = document.getElementById('parallaxImg');
        if (parallaxImg && window.innerWidth > 768) {
            window.addEventListener('scroll', () => {
                const rect = parallaxImg.closest('.experience').getBoundingClientRect();
                const progress = -rect.top / window.innerHeight;
                const translate = Math.max(-15, Math.min(15, progress * 30 - 15));
                parallaxImg.style.transform = `translateY(${translate}%)`;
            }, { passive: true });
        }

        // ===== GALLERY — snap scroll with arrows =====
        const track = document.getElementById('galleryTrack');
        function galleryNext() {
            track.scrollBy({ left: track.offsetWidth * 0.85, behavior: 'smooth' });
        }
        function galleryPrev() {
            track.scrollBy({ left: -track.offsetWidth * 0.85, behavior: 'smooth' });
        }

        // ===== CALENDAR (kept intact) =====
        const API = 'https://xhpsdbmajanmoztijbnx.supabase.co/functions/v1/folie-pricing';
        const KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhocHNkYm1hamFubW96dGlqYm54Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk3NTY2MjksImV4cCI6MjA4NTMzMjYyOX0.HwFRHULHBBQlWoOwD9lMav5Icjlfe92o1QZspxI_2DQ';
        const LISTING = '1503490402342628075';
        const MONTHS = ['Janvier','Février','Mars','Avril','Mai','Juin','Juillet','Août','Septembre','Octobre','Novembre','Décembre'];
        const DAYS = ['Lu','Ma','Me','Je','Ve','Sa','Di'];

        let m1 = new Date(), m2 = new Date(m1.getFullYear(), m1.getMonth()+1, 1);
        let start = null, end = null, blocked = [];

        async function fetchBlocked() {
            try {
                const r = await fetch(API, { method: 'POST', headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${KEY}` }, body: JSON.stringify({ get_calendar: true }) });
                const d = await r.json();
                if (d.blocked) blocked = d.blocked;
            } catch(e) {}
            render();
        }

        function isBlocked(date) {
            const s = date.toISOString().split('T')[0];
            return blocked.some(b => s >= b.start && s < b.end);
        }

        function render() {
            renderCal('cal1', m1);
            renderCal('cal2', m2);
            const today = new Date(); today.setHours(0,0,0,0);
            document.getElementById('prevBtn').disabled = m1 <= today;
        }

        function renderCal(id, date) {
            const el = document.getElementById(id);
            const y = date.getFullYear(), m = date.getMonth();
            const today = new Date(); today.setHours(0,0,0,0);
            const first = new Date(y, m, 1), last = new Date(y, m+1, 0);
            let sd = first.getDay() - 1; if (sd < 0) sd = 6;

            let html = `<div class="cal-month">${MONTHS[m]} ${y}</div><div class="cal-week">${DAYS.map(d=>`<span>${d}</span>`).join('')}</div><div class="cal-days">`;
            for (let i = 0; i < sd; i++) html += `<div class="day off"></div>`;
            for (let d = 1; d <= last.getDate(); d++) {
                const curr = new Date(y, m, d);
                const ds = curr.toISOString().split('T')[0];
                const past = curr < today, blk = isBlocked(curr), isToday = curr.getTime() === today.getTime();
                let cls = 'day';
                if (past) cls += ' off';
                else if (blk) cls += ' blocked';
                if (isToday) cls += ' today';
                if (start && curr.getTime() === start.getTime()) cls += ' start';
                if (end && curr.getTime() === end.getTime()) cls += ' end';
                if (start && end && curr > start && curr < end) cls += ' range';
                const click = !past && !blk ? `onclick="pick('${ds}')"` : '';
                html += `<div class="${cls}" ${click}>${d}</div>`;
            }
            html += '</div>';
            el.innerHTML = html;
        }

        function pick(ds) {
            const d = new Date(ds);
            if (!start || (start && end)) { start = d; end = null; }
            else if (d > start) { end = d; fetchPrice(); }
            else { start = d; end = null; }
            render();
        }

        async function fetchPrice() {
            const ci = start.toISOString().split('T')[0], co = end.toISOString().split('T')[0];
            const n = Math.round((end - start) / 864e5);
            document.getElementById('priceContent').innerHTML = `<span class="price-label">Chargement...</span>`;
            try {
                const r = await fetch(API, { method: 'POST', headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${KEY}` }, body: JSON.stringify({ check_in: ci, check_out: co, guests: 2 }) });
                const d = await r.json();
                if (d.available) {
                    document.getElementById('priceContent').innerHTML = `
                        <span class="price-label">Total pour ${n} nuit${n>1?'s':''}</span>
                        <div class="price-amount">${d.pricing?.total || '—'}€</div>
                        <p class="price-night">${d.pricing?.per_night_avg || '—'}€ par nuit en moyenne</p>
                        <div class="price-dates">
                            <div class="price-date-row"><span>Arrivée</span><span>${start.toLocaleDateString('fr-FR')}</span></div>
                            <div class="price-date-row"><span>Départ</span><span>${end.toLocaleDateString('fr-FR')}</span></div>
                        </div>
                    `;
                    document.getElementById('bookBtn').href = `https://www.airbnb.fr/rooms/${LISTING}?check_in=${ci}&check_out=${co}&guests=2`;
                    document.getElementById('waBtn').href = `https://wa.me/33756864414?text=${encodeURIComponent(`Bonjour Léa ! Je voudrais réserver du ${start.toLocaleDateString('fr-FR')} au ${end.toLocaleDateString('fr-FR')}`)}`;
                } else {
                    document.getElementById('priceContent').innerHTML = `<span class="price-label" style="color:#ff6b6b">Non disponible</span><p class="price-night">Ces dates sont déjà réservées</p>`;
                }
            } catch(e) {
                document.getElementById('priceContent').innerHTML = `<span class="price-label">Erreur</span>`;
            }
        }

        function prevMonth() { m1.setMonth(m1.getMonth()-1); m2.setMonth(m2.getMonth()-1); render(); }
        function nextMonth() { m1.setMonth(m1.getMonth()+1); m2.setMonth(m2.getMonth()+1); render(); }

        fetchBlocked();
    </script>
</body>
</html>
